# nix-maptheme

A reusable NixOS module for mapping base16 colors to program-specific configurations

```nix
config.maptheme.kitty.colors = <some base16 theme>;
config.maptheme.wofi.colors = <another base16 theme>;
```

> [!IMPORTANT]
> This is WIP, the majority of programs have not been implemented yet.

# Usage

Here's how you use it in your flake, sourcing the color schemes from
[tinted theming](https://github.com/tinted-theming/schemes)

```nix
{
  inputs = {
    maptheme.url = "github:jeanlucthumm/nix-maptheme";

    # Get base16 color schemes
    tt-schemes = {
        url = "github:tinted-theming/schemes";
        flake = false;
    };

    # The `color` input of each module in `maptheme` expects schemes generated by base16.nix
    base16.url = "github:SenchoPens/base16.nix";
  };

  outputs = { self, nixpkgs, home-manager, tt-schemes, base16, maptheme, ... }: {
    # Example NixOS configuration
    nixosConfigurations.myhost = nixpkgs.lib.nixosSystem {
      system = "x86_64-linux";
      modules = [
        # Import maptheme's NixOS module. On Darwin use `maptheme.darwinModules.maptheme`.
        maptheme.nixosModules.maptheme
        home-manager.nixosModules.home-manager
        {
          home-manager.useGlobalPkgs = true;
          home-manager.useUserPackages = true;
          home-manager.users.myuser = { config, ... }: let
            # Setup base16 color scheme generation
            base16lib = base16.lib {
              inherit (nixpkgs.legacyPackages.x86_64-linux) pkgs lib;
            };

            # Generate color schemes
            colors = {
              nord = base16lib.mkSchemeAttrs "${tt-schemes}/base16/nord.yaml";
              solarized = base16lib.mkSchemeAttrs "${tt-schemes}/base16/solarized-light.yaml";
            };
          in {
            # Apply themes to different programs
            maptheme.bat = {
              enable = true;
              colors = colors.nord;
            };

            maptheme.kitty = {
              enable = true;
              colors = colors.solarized;
            };
          };
        }
      ];
    };
  };
}
```
